---
title : "[수학] 삼각함수"
date : 2026-01-09 20:41:00 +0900
categories : [Game / Math]
tags : [unity, game, dev, math]
comments : true
math : true
pin : true
---

## 삼각함수

### **1. 삼각형**

주로 법선 계산 등을 이유로 컴퓨터 그래픽스에서는 평면이 확실한 삼각형을 주로 사용한다.


|정점 개수|설명|
|---|---|
|1개|위치|
|2개|선|
|3개|하나의 평면|
|4개 이상|같은 평면이라 단정지을 수 없음|
 
-----------------

### **2. 삼각함수**
- $sin\theta = 높이 / 빗변$

- $cos\theta  = 밑변 / 빗변$

- $tan\theta  = 높이 / 밑변$
<br/>

![Desktop View](/assets/img/math1-3.jpg){: w="700" h="400" }

<br/>

- 역함수

	- $\theta = arcsin(sin\theta)$
	- $\theta = arccos(cos\theta)$
	- $\theta = arctan(tan\theta)$

<br/>

-----------------

### **3. 삼각함수 주기성**
삼각함수를 구할 때, 반지름이 1인 단위원을 사용한다.
<br/>

![Desktop View](/assets/img/math1-4.jpg){: w="700" h="400" }

<br/>

위의 이미지처럼 단위원을 사용하면 빗변이 1이 되기에 피타고라스 정리를 적용할 수 있다.
$$ (sin\theta) ^ 2 + (cos\theta)^2 = 1 $$

이 식을 사용하면 직각삼각형이 아닌 경우에도 변의 길이를 구할 수 있다.

<br/>

![Desktop View](/assets/img/math1-2.jpg){: w="700" h="400" }

<br/>

위의 이미지에서 변 a의 길이를 구해보자. 우선 피타고라스 정리를 사용해 식을 구하고 그 식을 전개한다.
$$ a^2 = (b - ccos\theta)^2 + (csin\theta)^2$$
$$ a^2 = b^2 -2bccos\theta + c^2(cos\theta)^2 + c^2(sin\theta)^2$$$$ = b^2 + c^2((cos\theta)^2 + (sin\theta)^2) - 2bccos\theta$$$$=b^2+c^2-2bccos\theta$$

따라서 $a^2 = b^2 + c^2 -2bccos\theta$ 이고 이를 **코사인 법칙**이라 한다.

<br/>

![Desktop View](/assets/img/math1-1.jpg){: w="700" h="400" }

<br/>

위의 이미지에서 단위원 위의 한 점의 좌표는 $x = cos\theta$,  $y = sin\theta$ 로 표현할 수 있다.
원이 한 바퀴 회전하면 다시 처음 위치로 돌아오기 때문에, 각도 $\theta$와 $\theta + 2\pi$는 같은 점을 가리키게 된다.

즉, **삼각함수의 값은 2π를 주기로 반복**된다.
이는 삼각함수가 원의 회전 운동을 기반으로 정의되었기 때문이다.

그래서 일반적으로 삼각함수의 값을 표현할 때, 라디언을 사용한다.
$90° = \pi / 2$ , $180° = \pi$로 표현된다.

<br/>

그러므로 삼각함수 sin과 cos는 각도에 따라 값이 변하는 함수이며, 이를 그래프로 나타내면 **파형**의 형태를 가진다.
이러한 그래프를 각각 **사인파**, **코사인파**라고 한다.

<br/>

사인 함수와 코사인 함수는 각각 다음과 같은 형태를 가진다.
![Desktop View](/assets/img/math1-5.jpg){: w="700" h="400" }

<br/>

사인파와 코사인파는 서로 다른 함수처럼 보이지만, 실제로는 **위상**만 차이가 나는 같은 파형이다.
- $cos\theta = sin(\theta + \frac{\pi}{2})$
- $sib\theta = cos(\theta + \frac{\pi}{2})$

즉, 코사인파는 사인파를 $\frac{\pi}{2}$ 만큼 이동시킨 형태이다.

이 때문에 두 함수는 동일한 주기와 형태를 가지며, **시작 위치**만 다를 뿐이다.

이 그래프에서  매개 변수 $x$를 바꾸면 쉽게 주기를 바꿀 수 있다.

![Desktop View](/assets/img/math1-6.jpg){: w="700" h="400" }

<br/>

-----------------

### **4. Unity**
유니티에서는 삼각함수를 사용할 때, 라디언을 사용하여 계산한다.
**각도 계산, 방향 계산, 거리 계산, 회전 처리** 등에 직접 활용한다.


#### 1. 방향 벡터 계산
사인과 코사인은 **각도 → 방향 벡터**를 만들 때 사용된다.

```csharp
// 이동, 시선, 투사 방향 계산에 사용
// Deg2Ra 메서드는 각도를 라디언으로 바꿔준다.
float angle = Mathf.Deg2Rad * 45f;

float x = Mathf.Cos(angle);
float z = Mathf.Sin(angle);

//각도 45° 방향의 단위 벡터 생성
Vector3 direction = new Vector3(x, 0, z);
```
 
 <br/>
 
#### 2. 오브젝트 회전 각도 계산
두 점 사이의 방향을 각도로 구할 때, arctan 계열 함수가 사용된다.

```csharp
// 적 추적, 포탑 회전 등에 활용
// 현재 오브젝트가 타겟을 바라보는 각도 계산
Vector3 dir = target.position - transform.position;
float angle = Mathf.Atan2(dir.z, dir.x) * Mathf.Rad2Deg;
```

<br/>

#### 3. 거리와 높이 계산
삼각함수는 거리와 높이를 계산할 때도 사용된다.
 <br/>
 
```csharp
// 포물선 이동, 투사체 궤적 계산, 지형 경사 처리
float height = distance * Mathf.Sin(angle);
float horizontal = distance * Mathf.Cos(angle);
```
<br/>

#### 4. 원형 배치 계산
여러 오브젝트를 원형으로 배치할 때 사인과 코사인이 사용된다.

```csharp
// UI 버튼 원형 배치, 적 스폰 위치 계산, 레이더, 미니맵 구현
for (int i = 0; i < count; i++)
{
    float angle = i * 2 * Mathf.PI / count;
    float x = Mathf.Cos(angle) * radius;
    float z = Mathf.Sin(angle) * radius;

    positions[i] = new Vector3(x, 0, z);
}
```
<br/>

#### 5. 경사각(Slope) 계산
표면의 기울기를 계산할 때도 삼각함수가 사용된다.

```csharp
// 지형 경사 판단, 이동 가능 여부 판별, 캐릭터 속도 조절
float slopeAngle = Mathf.Acos(Vector3.Dot(normal, Vector3.up)) * Mathf.Rad2Deg;
```
<br/>

#### 6. 카메라 시야각(FOV) 계산
카메라의 시야각과 화면 크기를 계산할 때 삼각함수가 사용된다.

```csharp
// 카메라 줌, 화면 맞춤 계산, UI 스케일 보정
float height = distance * Mathf.Tan(fov * 0.5f * Mathf.Deg2Rad);
```
